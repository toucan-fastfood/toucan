# TOUCAN — سیستم سفارش‌گیری با QR (نسخه آماده برای GitHub Pages)

این پروژه یک پیج منوی دیجیتال ساده برای فست‌فود **TOUCAN** است که:
- منو را از فایل `data/foods.csv` می‌خواند.
- مشتری با اسکن QR مربوط به میز (مثلاً `/menu.html?table=2`) وارد صفحه منو می‌شود.
- مشتری غذاها را به فاکتور شناور اضافه می‌کند.
- با زدن دکمه «ارسال سفارش به واتس‌اپ»، متن فاکتور به شماره واتس‌اپ آشپزخانه ارسال می‌شود.

## ساختار پروژه
```
/ (ریشه)
 ├── index.html
 ├── menu.html
 ├── kitchen.html
 ├── qq.html
 ├── assets/
 │    ├── css/style.css
 │    └── images/placeholder.png
 └── data/
      └── foods.csv
```

## فرمت فایل `data/foods.csv`
ردیف‌ها باید به صورت CSV باشند (سرصفحه اختیاری). ستون‌ها به ترتیب زیر در نظر گرفته شده‌اند:
1. English name (ستون A)
2. Farsi name  (ستون B)
3. Ingredients (مواد) (ستون C)
4. Price (قیمت) (ستون D)
5. WhatsApp number (شماره واتس‌آپ آشپزخانه مربوط به آن غذا) (ستون E)
6. Image file name (مثال: `pizza1.png`) (ستون F)
7. Image folder/path (مثال: `assets/images/pizza`) (ستون G)

آدرس نهایی عکس از ترکیب ستون‌های 7 + 6 ساخته می‌شود. اگر عکس پیدا نشود، تصویر جایگزین نشان داده می‌شود.

**نکته مهم:** برای ارسال به واتس‌اپ از لینک `https://wa.me/<number>?text=...` استفاده می‌شود. عدد باید در فرمت بین‌المللی (بدون علامت +) باشد؛ اما اگر شماره در فایل CSV چیزی دیگر بود، کاربر می‌تواند هنگام ارسال آن را وارد کند.

## بروزرسانی فوری منو
فایل `data/foods.csv` در گیت‌هاب را آپلود/ویرایش کنید. صفحهٔ `menu.html` هر 12 ثانیه یکبار فایل CSV را مجدداً لود می‌کند (با cache-busting) تا تغییرات سریعا اعمال شوند. همچنین هنگام بارگذاری مجدد، سبد خرید مشتری حفظ می‌شود و فقط مشخصات غذا (قیمت/نام) بروزرسانی می‌شود؛ اگر یک آیتم کاملاً حذف شده باشد، در فاکتور با برچسب `(حذف‌شده از منو)` نشان داده می‌شود.

## صفحهٔ qq.html
با استفاده از این صفحه می‌توانید QR مخصوص هر میز را تولید و دانلود کنید. به صورت پیش‌فرض میزها تا ۳۰ پشتیبانی می‌شوند.

## صفحهٔ kitchen.html
این صفحه یک ماک‌آپ (نسخهٔ محلی) برای نمایش سفارش‌هاست. در این پیاده‌سازی ساده، سفارش‌ها به `localStorage` مشتری ذخیره می‌شوند. برای نمایش زندهٔ سفارش‌ها در آشپزخانه نیاز به بک‌اند دارید (مثلاً یک وب‌هوک یا سرور ساده Node/Express که درخواست‌های POST از مرورگر مشتری را دریافت کند و در صفحهٔ آشپزخانه نمایش دهد).

## توسعهٔ بک‌اند (پیشنهاد)
اگر می‌خواهید سفارش‌ها به‌صورت مرکزی برای آشپزخانه نمایش داده شوند، پیشنهاد می‌کنم:
- یک سرور ساده Node.js/Express بسازید که یک endpoint مثل `/api/orders` برای دریافت سفارش‌ها داشته باشد.
- در `menu.html` پس از ارسال به واتس‌اپ، یک درخواست `fetch('/api/orders', {method:'POST', body: JSON.stringify(order)})` بزنید تا سفارش‌ها ذخیره شوند.
- صفحهٔ `kitchen.html` سپس سفارش‌ها را از سرور خوانده و نمایش دهد.

## بستهٔ دانلود
در کنار این README یک فایل زیپ `toucan_qr_order.zip` تولید شده است که می‌توانید آن را دانلود و مستقیم در GitHub رپو آپلود کرده و GitHub Pages را فعال کنید.

